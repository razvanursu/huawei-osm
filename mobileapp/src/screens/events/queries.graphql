fragment FullEvent on Event {
    id
    hashtag
    name
    description
    startTime
    endTime
    paypalUsername
    poster
    address
    isPrivate
    isAdmin
    organizer {
        ...ProfileListEntry
    }
    ticketTemplates {
      ...FullTicketTemplate
    }
    participants(filters: { isInvitationPending: false }) {
        participant{
          ...ProfileListEntry
        }
    }
    participation{
      isAdmin
      title
      isInvitationPending
    }
}

fragment EventListEntry on Event {
    id
    hashtag
    name
    description
    startTime
    endTime
    poster
    address
    isPrivate
    organizer {
      ...ProfileListEntry
    }
    participants {
      participant{
        id
        name
        profilePicture
      }
    }
}


fragment FullTicketTemplate on TicketTemplate {
  id
  name
  description
  price
}

query events {
  events {
     ... on Event {
      ...EventListEntry
     }
  }
}

query event($eventId: String!) {
  event(eventId: $eventId) {
    ... on Event {
      ...FullEvent
    }
  }
}

fragment FullEventParticipant on EventParticipant {
  participant{
    ...ProfileListEntry
  }
  isAdmin
  title
}

query pendingInvites($eventId: String!) {
  event(eventId: $eventId) {
    id
    participants(filters: { isInvitationPending: true }) {
      ...FullEventParticipant
    }
  }
}

query participants($eventId: String!) {
  event(eventId: $eventId) {
    ... on Event {
      id
      participants(filters: { isInvitationPending: false }) {
        ...FullEventParticipant
      }
    }
  }
}

fragment EventTicketTemplate on TicketTemplate {
  id
  name
  price
  description
}

query eventTicketTemplates($eventId: String!) {
  event(eventId: $eventId) {
    id
    ticketTemplates {
      ...EventTicketTemplate
    }
  }
}
